---
/**
 * 404 Error Page - Guardian's Lost Realm
 * =======================================
 * Character-driven error page with Amina's alert expression
 * Adapted from Amina dashboard 404.astro
 */
export const prerender = true;

import MainLayout from '@/layouts/MainLayout.astro';
import Btn404 from '@components/ui/buttons/Btn404.astro';
import { Icon } from 'astro-icon/components';
import { SITE } from '@/data/constants';

const pageTitle = `you are so lost! | ${SITE.title}`;
---

<MainLayout title={pageTitle}>
  <section
    class="relative overflow-hidden bg-gradient-to-b from-[var(--midnight-black)] via-[var(--shadow-gray)] to-[var(--midnight-black)] min-h-svh flex items-center"
  >
    <!-- Background Effects -->
    <div class="absolute inset-0">
      <!-- Animated grid -->
      <div
        class='absolute inset-0 bg-[url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSA2MCAwIEwgMCAwIDAgNjAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwQ0VEMSIgc3Ryb2tlLXdpZHRoPSIxIiBvcGFjaXR5PSIwLjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=")] opacity-30'
      >
      </div>

      <!-- Glowing orbs -->
      <div
        class="absolute top-1/4 left-1/4 w-96 h-96 bg-[var(--amina-crimson)]/20 rounded-full blur-3xl animate-pulse"
      >
      </div>
      <div
        class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-[var(--cyber-blue)]/20 rounded-full blur-3xl animate-pulse"
        style="animation-delay: 1s;"
      >
      </div>

      <!-- Error particles -->
      <div class="error-particles absolute inset-0"></div>
    </div>

    <div
      class="relative mx-auto max-w-screen-2xl px-4 sm:px-6 lg:px-8 w-full py-20"
    >
      <div
        class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center"
      >
        <!-- Left: Error Code & Content -->
        <div class="space-y-8 text-center lg:text-left">
          <!-- Protocol Badge -->
          <div
            class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[var(--steel-gray)]/50 backdrop-blur-md border border-[var(--amina-crimson)]/30 text-[var(--amina-crimson)]"
          >
            <Icon name="lucide:alert-triangle" class="w-5 h-5" />
            <span
              class="text-sm font-heading font-bold tracking-wider uppercase"
              >CODE red</span
            >
          </div>

          <!-- Error Code -->
          <div class="space-y-4">
            <h1 class="text-8xl lg:text-9xl font-heading font-bold text-white">
              <span class="text-[var(--amina-crimson)]">4</span>
              <span class="text-[var(--cyber-blue)]">0h</span>
              <span class="text-[var(--amina-crimson)]">4!</span>
            </h1>
            <p class="text-lg text-gray-400 font-mono tracking-wider">
              [WARNING]: YOU TOOK A WRONG TURN, KID
            </p>
          </div>

          <!-- Content -->
          <div class="space-y-4">
            <h2 class="text-4xl lg:text-5xl font-heading font-bold text-white">
              Oops, <span
                class="bg-gradient-to-r from-[var(--amina-crimson)] to-[var(--cyber-blue)] bg-clip-text text-transparent"
                >you broke it!</span
              >
            </h2>
            <p class="text-xl text-gray-300 leading-relaxed">
              listen, this page doesn't exist. neither does whatever you were
              looking for. nice try though, i'll give you that.
            </p>
          </div>

          <!-- CTA Buttons -->
          <div class="flex flex-col sm:flex-row gap-4 pt-4">
            <Btn404 text="get your act together" />
          </div>

          <!-- Fun message -->
          <p class="text-gray-500 text-sm">
            <span class="text-2xl">( •̀ω•́ )σ</span> — maybe go find something useful
            to do instead?
          </p>
        </div>

        <!-- Right: Decorative Error Display -->
        <div class="flex justify-center lg:justify-end">
          <div class="relative group">
            <!-- Glow effect -->
            <div
              class="absolute inset-0 bg-gradient-to-t from-[var(--amina-crimson)]/30 via-transparent to-transparent blur-3xl rounded-full scale-110 group-hover:scale-125 transition-transform duration-700"
            >
            </div>

            <!-- Error Code Display -->
            <div class="relative text-center">
              <div
                class="text-[12rem] lg:text-[16rem] font-heading font-bold text-white/10 select-none"
              >
                404
              </div>

              <!-- Error indicators floating around -->
              <div class="absolute -top-6 left-1/4 animate-float-delayed-1">
                <div
                  class="px-4 py-2 bg-[var(--steel-gray)]/80 backdrop-blur-md border border-[var(--amina-crimson)] rounded-lg text-[var(--amina-crimson)] text-sm font-mono"
                >
                  [YIKES!]
                </div>
              </div>

              <div class="absolute top-20 -right-8 animate-float-delayed-2">
                <div
                  class="px-4 py-2 bg-[var(--steel-gray)]/80 backdrop-blur-md border border-[var(--cyber-blue)] rounded-lg text-[var(--cyber-blue)] text-sm font-mono"
                >
                  [4·0·4]
                </div>
              </div>

              <div class="absolute bottom-1/3 -left-6 animate-float-delayed-3">
                <div
                  class="px-4 py-2 bg-[var(--steel-gray)]/80 backdrop-blur-md border border-[var(--imperial-gold)] rounded-lg text-[var(--imperial-gold)] text-sm font-mono"
                >
                  [NOT FOUND]
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</MainLayout>

<style>
  /* Float animations */
  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-20px);
    }
  }

  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  .animate-float-delayed-1 {
    animation: float 4s ease-in-out infinite;
    animation-delay: 0.5s;
  }

  .animate-float-delayed-2 {
    animation: float 5s ease-in-out infinite;
    animation-delay: 1s;
  }

  .animate-float-delayed-3 {
    animation: float 4.5s ease-in-out infinite;
    animation-delay: 1.5s;
  }
</style>

<script>
  // Create error particles
  const container = document.querySelector('.error-particles');
  if (container) {
    for (let i = 0; i < 25; i++) {
      const particle = document.createElement('div');
      particle.style.cssText = `
        position: absolute;
        width: ${Math.random() * 3 + 1}px;
        height: ${Math.random() * 3 + 1}px;
        background: ${Math.random() > 0.5 ? '#DC143C' : '#00CED1'};
        border-radius: 50%;
        left: ${Math.random() * 100}%;
        top: ${Math.random() * 100}%;
        opacity: ${Math.random() * 0.5 + 0.2};
        animation: error-float ${Math.random() * 10 + 5}s linear infinite;
        animation-delay: ${Math.random() * 5}s;
      `;
      container.appendChild(particle);
    }
  }

  // Add error particle animation
  const style = document.createElement('style');
  style.textContent = `
    @keyframes error-float {
      0% {
        transform: translateY(0) translateX(0);
      }
      50% {
        transform: translateY(-30px) translateX(${Math.random() * 20 - 10}px);
      }
      100% {
        transform: translateY(0) translateX(0);
      }
    }
  `;
  document.head.appendChild(style);
</script>
