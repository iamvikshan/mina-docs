---
import { Icon } from 'astro-icon/components';

interface Props {
  class?: string;
}

const { class: className } = Astro.props;
---

<div class:list={['support-banner', className]}>
  <a
    href="https://ko-fi.com/vikshan"
    target="_blank"
    rel="noopener noreferrer"
    class="support-pill kofi"
  >
    <Icon name="lucide:coffee" class="pill-icon" />
    <span>support on ko-fi</span>
  </a>

  <a
    href="https://discord.gg/mYpKn3sjVT"
    target="_blank"
    rel="noopener noreferrer"
    class="support-pill discord"
  >
    <Icon name="lucide:message-circle" class="pill-icon" />
    <span>join the server</span>
  </a>
</div>

<style>
  .support-banner {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    justify-content: center;
    align-items: center;
    padding: 1.5rem 0;
    margin-top: 2rem;
    border-top: 1px solid var(--sl-color-hairline, rgba(255, 255, 255, 0.1));
  }

  .support-pill {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    border-radius: 9999px;
    font-family: var(--font-body, 'Inter', sans-serif);
    font-size: 0.875rem;
    font-weight: 500;
    text-decoration: none;
    transition: all 0.2s ease;
    border: 1px solid var(--pill-border);
    background: var(--pill-bg);
    color: var(--pill-text);
  }

  .support-pill:hover {
    transform: translateY(-2px);
    box-shadow: 0 0 20px var(--pill-glow);
    border-color: var(--pill-border-hover);
  }

  .support-pill:active {
    transform: translateY(0);
  }

  /* Ko-fi - Imperial Gold (achievement/support) */
  .support-pill.kofi {
    --pill-border: var(--economy-gold, #ffd700);
    --pill-border-hover: var(--economy-gold, #ffd700);
    --pill-bg: rgba(255, 215, 0, 0.1);
    --pill-text: var(--economy-gold, #ffd700);
    --pill-glow: rgba(255, 215, 0, 0.3);
  }

  .support-pill.kofi:hover {
    background: rgba(255, 215, 0, 0.15);
  }

  /* Discord - Electric Blue */
  .support-pill.discord {
    --pill-border: var(--electric-blue, #1e90ff);
    --pill-border-hover: var(--electric-blue, #1e90ff);
    --pill-bg: rgba(30, 144, 255, 0.1);
    --pill-text: var(--electric-blue, #1e90ff);
    --pill-glow: rgba(30, 144, 255, 0.3);
  }

  .support-pill.discord:hover {
    background: rgba(30, 144, 255, 0.15);
  }

  .pill-icon {
    width: 1rem;
    height: 1rem;
    flex-shrink: 0;
  }

  /* Responsive - stack on very small screens */
  @media (max-width: 400px) {
    .support-banner {
      flex-direction: column;
    }

    .support-pill {
      width: 100%;
      justify-content: center;
    }
  }
</style>
