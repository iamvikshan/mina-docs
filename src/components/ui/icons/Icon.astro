---
/**
 * Lucide Icon Component
 * =====================
 * Wrapper for Lucide icons via Iconify for consistent styling.
 * Supports lucide icons by default, or any other iconify set using prefix notation.
 *
 * Usage:
 *   <Icon name="chevron-right" />           - Uses lucide:chevron-right
 *   <Icon name="lucide:heart" />            - Explicit lucide prefix
 *   <Icon name="solar:emoji-funny-circle-broken" /> - Other icon sets
 */

import { Icon as AstroIcon } from 'astro-icon/components';

interface Props {
  name: string;
  class?: string;
  size?: number | string;
  width?: number | string;
  height?: number | string;
}

const { name, class: className = '', size, width, height } = Astro.props;

// If the icon name already has a prefix (contains ':'), use it as-is
// Otherwise, assume it's a lucide icon and add the prefix
const iconName = name.includes(':') ? name : `lucide:${name}`;

// Determine dimensions
const iconSize = size ?? 24;
const iconWidth = width ?? iconSize;
const iconHeight = height ?? iconSize;
---

<AstroIcon
  name={iconName}
  class={className}
  width={iconWidth}
  height={iconHeight}
/>
